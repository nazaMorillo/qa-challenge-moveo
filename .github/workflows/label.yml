# This workflow will triage pull requests and apply a label based on the
# paths that are modified in the pull request.
#
# To use this workflow, you will need to set up a .github/labeler.yml
# file with configuration.  For more information, see:
# https://github.com/actions/labeler

name: CI Labeler
on:
  push:
    branches:
      - main
    paths:
      - 'label.yml'
      - 'playwright/**'
      - 'postman/**'
      - 'STRATEGY.md'
  pull_request:
    paths:
      - 'playwright/**'
      - 'postman/**'
      - 'STRATEGY.md'

jobs:
  label:

    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write

    steps:
    - name: "Show environment variables"
      run: |
        echo "This is platform value: $RUNNER_OS"
        echo "This is region value: $RUNNER_REGION"


    - uses: actions/labeler@v4
      with:
        repo-token: "${{ secrets.GITHUB_TOKEN }}"
  
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        fetch-depth: 0  # Fetch all history for accurate diffs
